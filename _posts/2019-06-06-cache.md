---
layout: post
title:  "关于缓存"
date:   2019-06-4 17:35:05
categories:  cache
tags: cache
author: wisdom
---

* content
{:toc}

缓存从来都是前端的一个痛点，很多前端搞不太清楚缓存到底是何物，从而给自己创造了一些麻烦，

本文参考许多资料归纳总结，希望看完能对您有所帮助。



### (一) 前言：

* 掘金社区的: [缓存详解](https://juejin.im/post/5a6c87c46fb9a01ca560b4d7) 
* MDN Web 文档 [HTTP 缓存](https://juejin.im/post/5a6c87c46fb9a01ca560b4d7) 

>缓存是一种保存资源副本并且在下次请求时直接使用该副本的技术

说实话，我起始真的不知道怎么去介绍缓存，所以引用了上面相对官方的定义。

我想几乎每个开发者都碰到过缓存的问题吧，甚至有很多情况下我们会说这个问题已经修复了,你清理下缓存就好了。

这篇文章我们就细细的来挖掘下缓存的种种轶事。

### (一) 缓存种类：

很多开发者习惯把**cookie**、**webStorage**以及**IndexedDB**存储的数据也称之为缓存，理由是都是保存在客户端的数据，没有什么区别。

其实这是不严谨的，cookie的存在更多的是为了让服务端区别用户，webStorage和IndexedDB则更多用在保存具体的数据和在客户端存储大量结构化数据(文件/blobs)上面。

缓存只有一种——**它是请求资源的副本**

#### 缓存的优势

纳尼？你问我为什么要缓存？😱

那就太容易说道了🤣，缓存好处有很多：

* 缓解服务器压力(不用每次去请求资源)；

* 提升性能(打开本地资源速度当然比请求回来再打开要快得多)；

* 减少带宽消耗(我相信你可以理解)；


#### 宏观分类

缓存在宏观上可以分成两类：**私有缓存**和**共享缓存**。



共享缓存就是那些能被各级代理缓存的缓存(咋觉得有点绕)。

共享缓存存储的响应能够被多个用户使用。私有缓存只能用于单独用户。

![enter image description here](https://findwisdom.oss-cn-hongkong.aliyuncs.com/cache/HTTPCachtType.png)

* (私有)浏览器缓存

私有缓存只能用于单独用户。你可能已经见过浏览器设置中的“缓存”选项。

浏览器缓存拥有用户通过 HTTP 下载的所有文档。这些缓存为浏览过的文档提供向后/向前导航，保存网页，查看源码等功能，可以避免再次向服务器发起多余的请求。

它同样可以提供缓存内容的离线浏览。

* (共享)代理缓存

共享缓存可以被多个用户使用。

例如，ISP CDN 或你所在的公司可能会架设一个 web 代理来作为本地网络基础的一部分提供给用户。

这样热门的资源就会被重复使用，减少网络拥堵与延迟。


   
